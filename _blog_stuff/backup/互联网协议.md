协议森林, 比较感性的比喻
http://www.cnblogs.com/vamei/archive/2012/11/24/2773967.html

互联网协议一, 偏向于技术
http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html


http://wenku.baidu.com/view/8f7400ba960590c69ec37664
协议及历史


http://www.jianshu.com/p/4b9d43c0571a
深入浅出－网络七层模型&&网络数据包




----------


***原创于 [DRA&PHO](https://draapho.github.io/)***


我写的, 从互联网发展历史说起, 两者结合起来比较:


物理层: 就是基建. 火车? 飞机? 汽车? 三轮车?
连接层: 社区快递员(运力有限, 每次1000片乐高), 只认MAC地址!!! (小王的电脑, 老李的电脑)
            (MAC地址重复有什么后果? 只有IP可以吗)
网络层: 快递公司诞生了! (路由器, 哦, 镇上开了家快递公司, 可以快递到别的地方了)
            IP来表示全局地址 (MAC来实现小范围接力投递)
            IP协议是"Best Effort"式的，IP传输是不可靠的。但这样的设计成就了IP协议的效率。
--------------------------------------------------------------------------------
传输层, 快递公司提供了不同的服务, 
             UDP, 就是邮局的普通信封, 投到信箱后再也不管了
             TCP, 挂号信! 目前快递公司都要求签收, 它还会考虑交通堵塞情况, 退件, 重发.
             PORT, 就是投给这栋建筑里的指定人(指定应用)了.
应用层, 你收到快递后, 用来干嘛的事情了. 有很多隐私不方便说. 有一些则是公开协议, 


DNS, 其实就是个114查询台.




现实中, 有人买了一架飞机, 运费比飞机还贵!!!
最后看, 如果你从买了一架飞机, 在互联网世界会怎样快递给你!


第一步, 拆飞机(分包), 就拆成乐高吧 


第二步(物理层), 卖家把乐高按照每1000块打包, 写上你的地址(IP地址). 然后叫来社区快递员, 让它送到就近的快递公司 (MAC 地址到 MAC地址)


第三部(连接层+物理层), 快递公司根据你的IP地址, 一看挺远的哈, 叫来火车(不同的物理层)运到你所在的快递公司, 但本质依旧是MAC地址到MAC地址. 
(中间可能多次转运, 譬如会先由北京运到上海总集散中心, 再由上海集散中心往下级集散中心运货)


第四部(传输层), 这个包裹很重要, 因为如果缺零件就还原不了飞机了, 所以要用TCP服务, 由你本人(port)签收. 盼星星盼月亮, 等来了一个包, 一般来说, 就是一说明书加上一些乐高原件, 告诉你这个飞机被拆成了多少片乐高, 然后分了多少包发给你, 怎么组装. 如果没有这些说明,  你非得抓狂, 飞机变乐高啊, 骗子卖家啊!!!


然后, 根据约定, 你这边在用所有收到的乐高, 还原成买的飞机 (这部分其实是由TCP UDP 自动完成的)


第五步, 你可以用你的飞机尽情的玩耍了.






分层的好处, 任务明确, 各司其职, 互不干扰!
如果你是土豪. 不在乎多花点快递费. 可以换家快递公司. 甚至可以用, 3g, 4g 来空运. (替换了连接层协议, 但上层不变)




可以看到:
是一步一步发展起来的, 虽然从目前的情况看, MAC地址显得很积累, 但整个互联网是从局域网通讯发展起来的, 在发展中为了考虑兼容问题, 所以保留了下来.
数字世界的一大特点就是可以很方便的拆分和组合数据, 这为传输提供了极大的便利!!!更重要的是, 因为这一特性, 相互通信可以标准化了! 标准化的好处就是, 容易分层, 各司其职! 所以为了举例, 只能把飞机拆成乐高了.
数据可以在传输中直接被丢弃, 因为可以要求源头重发即可. 这一特点也和现实中的物流有非常大的区别


理解了整体, 再来理解局部和细节就方便多了. 


